# Object：所有类的超类对象

## 1.`Object`类型的变量

- 在Java中，只有基本类型不是对象，例如：数值、字符、布尔类型的值都不是对象

- 所有的数组类型，不管是对象数组还是基本类型的数组都扩展了`Object`类，例如：

  ```java
  Employee[] staff = new Employee[10];
  obj = staff; //OK
  obj = new int[10]; //OK
  ```

## 2.`equals`方法

- Object类中的equals方法用于检测一个对象是否等于另一个对象

- Object类中实现的equals方法将确定两个对象引用是否相等，如果两个对象引用相等，这两个对象肯定相等

- 不过，经常需要基于状态检测对象的相等性，如果两个对象有相同的状态，才认为两个对象是相等的

- 使用：

  ```java
  a.equals(b);
  ```

## 3.相等测试与继承

- 如果显式和隐式的参数不属于同一个类，许多程序员却喜欢使用`instanceof`进行检测：

  ```java
  if(!(otherObject instanceof Employee)) return false;
  ```

  这样就允许`otherObject`属于一个子类，但是这种方法可能会招致一些麻烦，所有不建议采用这种处理方式，因此Java语言规范要求equals方法具有以下特性：

  - 自反性：对于任何非空引用x，`x.equals(x)`应该返回true
  - 对称性：对于任何引用x和y，当且仅当`y.equals(x)`返回true时，`x.equals(y)`返回`true`
  - 传递性：对于任何引用x、y和z，如果`x.equals(Y)`返回true，`y.equals(z)`返回`true`，`x.equals(z)`也应该返回`true`
  - 一致性：如果x和y引用的对象没有发生变化，反复调用`x.equals(y)`应该返回同样的结果
  - 对于任意非空引用x，`x.equals(null`)应该返回false

- 如果子类可以有自己的相等性概念，则对称性需求将强制使用`getClass`检测

- 如果由超类决定相等性概念，那么就可以使用i`nstanceof`检测，这样可以在不同子类的对象之间进行相等性比较 

- 使用 == 比较基本类型字段，使用`Objects.equals`比较对象字段。如果所有的字段都匹配，据返回`true`；否则返回`false`

- static boolean equals`(xxx`[] a, `xxx`[] b):

  - 如果两个数组长度相同，并且在对应的位置数据元素也相同，将返回true。数组的元素类型`xxx`可以是`Object`、`int`、`long`、`short`、`char`、`byte`、`boolean`、`float`或`double`

- static boolean equals(Object a , Object b):

  - 如果`a`和`b`都为`null`，返回`true`；如果只有其中之一为`null`，则返回false；否则返回`a.equals`(b)

## 4.`hashCode`方法

- 散列码：由对象导出的一个整数值。
- 散列码是没有规律的，如果`x`和`y`是两个不同的对象，其散列码基本不会相同。
- 使用`hashCode`方法可以得到一个数的散列码，如：`x.hashCode()`就可以得到x的散列码
- 如果使用`hashCode()`方法的参数为null，这个方法会返回0，否则返回参数调用`hashCode`的结果
- equals与`hashCode`的定义必须相容：如果`x.equals(y)`返回`true`，那么`x.hashCode()`就必须与`y.hashCode()`返回相同的值
- `java.lang.Object`:
  - int `hashCode()`：返回对象的散列码。散列码可以是任意的整数，包括整数或负数。两个相等的对象要求返回相等的散列码
- `java.util.Object`
  - static int hash(Object... object)：返回一个散列码，由提供的所有对象的散列码组合而得到
  - static int `hashCode(Object a)`：如果a为null返回0，否则返回`a.hashCode()`
- `java.lang.Integer`
  - static int `hashCode(xxx value)`：返回给定值的散列码。这里`xxx`是对应给定包装器类型的基本类型
- `java.util.Arrays`
  - static int `hashCode(xxx[] a)`：计算数值a的散列码。组成这个数组的元素类型`xxx`可以是object、int、long、short、char、byte、boolean、float或double

## 5.`toString`方法

- 作用：返回对象值的一个字符串
- 只要对象与一个字符串通过操作符 “+” 连接起来，Java编译器就会自动地调用`toString`方法来获得这个对象的字符串描述
- `java.lang.Object`
  - `Class` `getClass()`:返回包含对象信息的类对象。
  - `boolean` `equals`(`Object` `otherObject)`：比较两个对象指向同一块存储区域，方法返回`true`；否则方法返回`false`。要在自定义的类中覆盖这个方法
  - `String` `toString()`：返回表示该对象的字符串。要在自定义的类中覆盖这个方法
- `java.lang.Class`
  - `String` `getName`()：返回这个类的名字
  - `Class` `getSuperclass`()：以Class对象的形式返回这个类的超类

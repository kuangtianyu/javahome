# 运算符

## 3.5.1算术运算符

- 在Java中，使用算术运算符+、-、*、/ 表示加、减、乘、除运算。
- 整数除法：当参与 / 运算的两个操作数都是整数时就是整数除法。
- 整数的取余 操作（有时称为取模）用 % 表示。
- **注意**：整数被0除将会产生一个异常，而浮点数被0除将会得到无穷大或NaN结果。

## 3.5.2 数学函数与常量

- 在Math类中，包含了各种各样的数学函数。在编写不同类别的程序时，可能需要的函数也不同。

- 计算一个数值的平方根，可以使用sqrt方法:

  ```java
  double x = 4;
  double y = Math.sqrt(x);
  System.out.println(y); // print 2.0
  ```

- Java中使用pow方法来进行幂运算

  ```
  double y = Math.pow(x,a);
  ```

  将y的值设置为x的a次幂（x^a)。 pow方法有两个double类型的参数，其返回结果也为double类型。

- Math类提供了一些常用的三角函数：

  ​	Math.sin            Math.cos               Math.tan               Math.atan                  Math.atan2

- 指数函数以及它的反函数——自然对数以及以10为底的对数：

  ​    Math.exp           Math.log                Math.log10

- 表示 π 和 e 常量的最接近的近似值：

     Math.PI                Math.E

## 3.5.3 数值类型之间的转换

- 当用一个二元运算符连接两个值时，先要将两个操作数转换为同一种类型，然后再进行计算
- 如果两个操作数中有一个是double类型，另一个操作数就会转换为double类型。
- 否则，如果其中一个操作数是float类型，另一个操作数就会转换为float类型。
- 否则，如果其中一个操作数是long类型，另一个操作数就会转换为long类型。
- 否则，两个操作数都将被转换为int类型。

## 3.5.4 强制类型转换

- 在必要的时候，int类型的值将会自动的转换为double类型，有时double类型也需要转换为int类型，，这种损失信息的转换要通过强制类型转换来完成。

- 语法格式：是在圆括号中给出想要转换的类型

- 例如：

  ```
  double x = 9.92;
  int nx = (int) x;
  ```

  这样，变量nx的值为9，因为强制类型转换通过截断小数部分将浮点值转换为整型。

- 如果你想要进行四舍五入计算，需要使用Math.round方法。
- 警告：如果试图将一个数值从一种类型强制转换为另一种类型，而又超出了目标类型的表示范围，结果就会截断成一个完全不同的值。

## 3.5.5 结合赋值和运算

可以在赋值中使用二元运算符

## 3.5.6 自增与自减运算符

- ++  --  ， 其改变的是变量的值，不能应用于数值本身。

- 分为前缀和后缀形式，前缀形式会先完成加(减)1；而后缀形式会使用变量原来的值

  ```java
  int m = 7;
  int n = 7;
  int a = 2 * ++m; //now a is 16, m is 8
  int b = 2 * n++; //now b is 14, n si 8
  ```

  

- 建议不要在表达式中使用++,因为这样的代码很容易让人困惑。

## 3.5.7 关系和boolean运算符

- 运算符: ==  !=  &&  ||  <  >  <=  >= 
- 如果第一个操作数已经能够确定表达式的值，第二个操作数就不必计算了。例如
  -  expression1 && expression2  计算得到第一个表达式的值为false，那么这个表达式的值一定为false
  -  expression1 || expression2  计算得到第一个表达式的值为true，那么这个表达式的值一定为true
- 三元操作符：condition ? expression1  :   expression2  如果条件为true，表达式的值为第一个表达式的值，反之。

## 3.5.8 位运算符

- &（“and")  | ("or")  ^("xor")  ~("not") 
- 为运算符不采用“短路”的方式取值，也就是说，得到计算结果之前两个操作数都需要计算。

## 3.5.9 括号与运算级别

| 运算符                                              | 结合性   |
| --------------------------------------------------- | -------- |
| [] . ()  (方法调用)                                 | 从左向右 |
| ！~ ++ -- +（一元运算符） （） （强制类型转换) new  | 从右向左 |
| * / %                                               | 从左向右 |
| +  -                                                | 从左向右 |
| <<   >>   >>>                                       | 从左向右 |
| <   <=  >=  instanceof                              | 从左向右 |
| ==  !=                                              | 从左向右 |
| &                                                   | 从左向右 |
| ^                                                   | 从左向右 |
| \|                                                  | 从左向右 |
| &&                                                  | 从左向右 |
| \|\|                                                | 从左向右 |
| ?:                                                  | 从右向左 |
| =   +=  -=  *=  /=  %=  &=  \|=  ^=  <<=  >>=  >>>= | 从右向左 |


